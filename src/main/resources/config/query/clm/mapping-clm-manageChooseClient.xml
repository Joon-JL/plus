<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE queryservice PUBLIC "-//ANYFRAME//DTD QUERYSERVICE//EN"
"http://www.anyframejava.org/dtd/anyframe-core-query-mapping-3.1.dtd">

<queryservice>
    <queries>
    	<!-- 2011.08.31 심주완추가(의뢰인관리팝업) -->
		<query id="clm.manage.listChooseClient" isCamelCase="false">
        	<statement>
            <![CDATA[
            SELECT :vo.cnsdreq_id  		AS CNSDREQ_ID
                 , ''					AS CNTRT_ID
                 , 0					AS DEMND_SEQNO
				 , :vo.session_user_id 	AS DEMNDMAN_ID 
				 , :vo.session_user_nm  AS DEMNDMAN_NM 
				 , :vo.session_dept_nm	AS DEMNDMAN_DEPT_NM 
				 , :vo.session_user_id	AS TRGTMAN_ID 
				 , :vo.session_user_nm	AS TRGTMAN_NM 
				 , :vo.session_dept_nm	AS TRGTMAN_DEPT_NM 
				 , ''       			AS RD_AUTH 
				 , ''       			AS AUTH_STARTDAY 
				 , ''       			AS AUTH_ENDDAY 
				 , ''       			AS DEMND_STATUS 
				 , ''       			AS DEMND_DT 
				 , ''       			AS HNDL_DT 
				 , ''       			AS HNDL_CONT 
				 , ''       			AS HNDLMAN_NM 
				 , ''       			AS HNDLMAN_ID 
   		  	UNION ALL  
	        SELECT A.CNSDREQ_ID
				 , D.CNTRT_ID 
				 , D.DEMND_SEQNO 
				 , D.DEMNDMAN_ID 
				 , D.DEMNDMAN_NM 
				 , D.DEMNDMAN_DEPT_NM 
				 , D.TRGTMAN_ID 
				 , D.TRGTMAN_NM 
				 , D.TRGTMAN_DEPT_NM 
				 , D.RD_AUTH 
				 , D.AUTH_STARTDAY 
				 , D.AUTH_ENDDAY 
				 , D.DEMND_STATUS 
				 , D.DEMND_DT 
				 , D.HNDL_DT 
				 , D.HNDL_CONT 
				 , D.HNDLMAN_NM 
				 , D.HNDLMAN_ID 
		 FROM TN_CLM_CONT_CNSDREQ A 
		    , TN_CLM_CONTRACT_CNSD B 
		    , TN_CLM_CONTRACT_MASTER C 
		    , TN_CLM_CONTRACT_AUTHREQ D 
		WHERE A.CNSDREQ_ID = B.CNSDREQ_ID 
		  AND B.CNTRT_ID = C.CNTRT_ID 
		  AND C.CNTRT_ID = D.CNTRT_ID 
		  AND A.CNSDREQ_ID = :CNSDREQ_ID 
		  AND ROWNUM = 1
	 ORDER BY DEMND_SEQNO
            ]]>
            </statement>
        </query>
    </queries>
</queryservice> 