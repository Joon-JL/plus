<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE queryservice PUBLIC "-//ANYFRAME//DTD QUERYSERVICE//EN"
"http://www.anyframejava.org/dtd/anyframe-core-query-mapping-3.1.dtd">

<queryservice>
    <queries>
    
    	<!-- About CLM 관리 목록 조회 : 2011.10.05 : dawn -->
		<query id="clm.admin.listAboutClmManage" isCamelCase="false">
		  <statement>
		    <![CDATA[
		    	SELECT SEQNO
		    	     , TITLE
		    	     , TITLE_EN
		    	     , TITLE_FR
		    	     , TITLE_DE
		    	     , CONT
		    	     , CONT_EN
		    	     , CONT_FR
		    	     , CONT_DE
		    	     , MENU_POS
		    	     , MENU_POS_EN
		    	     , MENU_POS_FR
		    	     , MENU_POS_DE
		    	     , SRCH_CONT
		    	     , REG_DT
		    	     , REG_ID
		    	     , REG_NM
				  FROM TN_CLM_ABOUT_CLM
				 WHERE DEL_YN = 'N'
				 	   AND COMP_CD ='EHQ'
				 ORDER BY SEQNO
		    ]]>
		  </statement>
		</query>
		
		<!-- About CLM 관리 상세 조회 : 2011.10.05 : dawn -->
		<query id="clm.admin.detailAboutClmManage" isCamelCase="false">
		  <statement>
		    <![CDATA[
		    	SELECT SEQNO
		    	     , TITLE
		    	     , TITLE_EN
		    	     , TITLE_FR
		    	     , TITLE_DE
		    	     , CONT
		    	     , CONT_EN
		    	     , CONT_FR
		    	     , CONT_DE
		    	     , MENU_POS
		    	     , MENU_POS_EN
		    	     , MENU_POS_FR
		    	     , MENU_POS_DE
		    	     , SRCH_CONT
		    	     , REG_DT
		    	     , REG_ID
		    	     , REG_NM
				  FROM TN_CLM_ABOUT_CLM
				 WHERE DEL_YN = 'N'
				   AND SEQNO  = :vo.seqno
				   AND COMP_CD = 'EHQ'
		    ]]>
		  </statement>
		</query>
		
		<!-- About CLM 관리 수정 : 2011.10.05 : dawn -->
		<query id="clm.admin.modifyAboutClmManage" isCamelCase="false">
		  <statement>
		    <![CDATA[
		    	UPDATE TN_CLM_ABOUT_CLM
				   SET
				   CONT = CAST( :vo.cont AS NTEXT)
				   #if ($vo.session_user_locale.equals("fr"))
				   		,TITLE_FR =:vo.title_fr 
				   #end
				   #if($vo.session_user_locale.equals("de"))
				   		,TITLE_DE =:vo.title_de
				   #end
				   #if($vo.session_user_locale.equals("en"))
				   		,TITLE_EN = :vo.title_en
				   #end
				   #if ($vo.session_user_locale.equals("fr"))
				  		,MENU_POS_FR = :vo.menu_pos_fr
				  #end
				  #if ($vo.session_user_locale.equals("de"))
				  		,MENU_POS_DE = :vo.menu_pos_de
				  #end
				  #if ($vo.session_user_locale.equals("en"))
				  		,MENU_POS_EN = :vo.menu_pos_en
				  #end				  	
				 /*
				   CASE
				   		WHEN :vo.session_user_locale = 'fr' THEN TITLE_FR =:vo.title 
				   		WHEN :vo.session_user_locale = 'de' THEN TITLE_DE =:vo.title	
				   		ELSE TITLE_EN =:vo.title 
				   END,
				   CASE
				   		WHEN :vo.session_user_locale = 'fr'
				   			THEN MENU_POS_FR =:vo.menu_pos 
				   		WHEN :vo.session_user_locale = 'de'
				   			THEN MENU_POS_DE =:vo.menu_pos	
				   		ELSE MENU_POS_EN =:vo.menu_pos
				   END
				   */
				   /*
				     , TITLE      = CASE WHEN :vo.sel_lang = 'ko' THEN :vo.title ELSE TITLE END
				     , TITLE_EN   = CASE WHEN :vo.sel_lang = 'en' THEN :vo.title ELSE TITLE_EN END
				     , TITLE_FR   = CASE WHEN :vo.sel_lang = 'fr' THEN :vo.title ELSE TITLE_FR END
				     , TITLE_DE   = CASE WHEN :vo.sel_lang = 'de' THEN :vo.title ELSE TITLE_DE END
				     , CONT      = CASE WHEN :vo.sel_lang = 'ko' THEN CAST( :vo.cont AS NTEXT) ELSE CONT END
				     , CONT_EN   = CASE WHEN :vo.sel_lang = 'en' THEN CAST( :vo.cont AS NTEXT) ELSE CONT_EN END
				     , CONT_FR   = CASE WHEN :vo.sel_lang = 'fr' THEN CAST( :vo.cont AS NTEXT) ELSE CONT_FR END
				     , CONT_DE   = CASE WHEN :vo.sel_lang = 'de' THEN CAST( :vo.cont AS NTEXT) ELSE CONT_DE END
				   */
				     , SRCH_CONT = :vo.srch_cont
				     , MOD_DT    = GETDATE()
				     , MOD_ID    = :vo.mod_id
				     , MOD_NM    = :vo.mod_nm
				 WHERE SEQNO     = :vo.seqno
		    ]]>
		  </statement>
		</query>
		
		<!-- about CLM Html 호출 : 2011.10.07 : dawn -->
		<query id="clm.admin.listAboutClmManageHtml" isCamelCase="false">
		  <statement>
		    <![CDATA[
		    	SELECT SEQNO
		    	     , CASE WHEN :vo.session_user_locale LIKE 'ko%' THEN TITLE
		    	     		WHEN :vo.session_user_locale LIKE 'fr%' THEN TITLE_FR
		    	     		WHEN :vo.session_user_locale LIKE 'de%' THEN TITLE_DE
		    	      		ELSE TITLE_EN END AS TITLE
		    	     , CONT
		    	     , CASE WHEN :vo.session_user_locale LIKE 'ko%' THEN MENU_POS
		    	     		WHEN :vo.session_user_locale LIKE 'fr%' THEN MENU_POS_FR
		    	     		WHEN :vo.session_user_locale LIKE 'de%' THEN MENU_POS_DE
		    	      		ELSE MENU_POS_EN END AS MENU_POS		    	     
		    	     , SRCH_CONT
		    	     , REG_DT
		    	     , REG_ID
		    	     , REG_NM
				  FROM TN_CLM_ABOUT_CLM
				 WHERE SEQNO = :vo.seqNoHtml
				   AND DEL_YN = 'N'
				   AND COMP_CD='EHQ'
		    ]]>
		  </statement>
		</query>
				
    </queries>
</queryservice>		